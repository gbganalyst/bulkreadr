<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to labelled data • bulkreadr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to labelled data">
<meta name="description" content="The R ecosystem, through packages like `foreign` and `haven`,      facilitates the importation of labelled data from software like    SPSS and Stata, ensuring a smooth transition into R. This vignette introduces you to other functions in bulkreadr, such as `read_spss_data()`, which extends this functionality by leveraging `haven` to streamline the process further.
">
<meta property="og:description" content="The R ecosystem, through packages like `foreign` and `haven`,      facilitates the importation of labelled data from software like    SPSS and Stata, ensuring a smooth transition into R. This vignette introduces you to other functions in bulkreadr, such as `read_spss_data()`, which extends this functionality by leveraging `haven` to streamline the process further.
">
<meta property="og:image" content="https://gbganalyst.github.io/bulkreadr/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bulkreadr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages">
<li><a class="external-link dropdown-item" href="https://gbganalyst.github.io/forstringr">forstringr</a></li>
    <li><a class="external-link dropdown-item" href="https://feddelegrand7.github.io/ralger">ralger</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/gbganalyst"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gbganalyst/bulkreadr"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://gbganalyst.github.io"><span class="fa fa-globe"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to labelled data</h1>
                        <h4 data-toc-skip class="author">Ezekiel
Ogundepo and Ernest Fokoué</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gbganalyst/bulkreadr/blob/main/vignettes/labelled-data.Rmd" class="external-link"><code>vignettes/labelled-data.Rmd</code></a></small>
      <div class="d-none name"><code>labelled-data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-labelled-data-in-r">What is labelled data in R?<a class="anchor" aria-label="anchor" href="#what-is-labelled-data-in-r"></a>
</h2>
<p>Labelled data in SPSS and Stata refers to datasets where each
variable (or column) and its values are assigned meaningful labels.
These labels provide context, such as descriptions or categories, making
the data easier to understand and analyze. For instance, a variable
representing gender might have numerical codes (1, 2) with labels
(“Male”, “Female”). This feature enhances data analysis by allowing
researchers to work with descriptive labels instead of deciphering codes
or numeric values, facilitating clearer interpretation and communication
of statistical results.</p>
<p>The R ecosystem, through packages like <code>foreign</code> and
<code>haven</code>, facilitates the importation of labelled data from
software like SPSS and Stata, ensuring a smooth transition into R. The
<code>bulkreadr</code> package extends this functionality by leveraging
<code>haven</code> to further streamline the process. It automatically
converts labelled data into R’s factor data type, eliminating the need
for manual recoding. This enhancement significantly improves the
efficiency of the data analysis workflow within the R environment.</p>
<div class="section level3">
<h3 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a>
</h3>
<blockquote>
<p>For the majority of functions within this package, we will utilize
data stored in the system file by the <code>bulkreadr</code>, which can
be accessed using the <code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code> function. If you wish
to utilize your own data stored in your local directory, please ensure
that you have set the appropriate file path prior to using any functions
provided by the bulkreadr package.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="read_spss_data">read_spss_data()<a class="anchor" aria-label="anchor" href="#read_spss_data"></a>
</h3>
<p><code><a href="../reference/read_spss_data.html">read_spss_data()</a></code> is designed to seamlessly import data
from an SPSS data (<code>.sav</code> or <code>.zsav</code>) files. It
converts labelled variables into factors, a crucial step that enhances
the ease of data manipulation and analysis within the R programming
environment.</p>
<p><strong>Read the SPSS data file without converting variable labels as
column names</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/gbganalyst/bulkreadr" class="external-link">bulkreadr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Wages.sav"</span>, package <span class="op">=</span> <span class="st">"bulkreadr"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_spss_data.html">read_spss_data</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">file_path</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 400 × 9</span></span></span>
<span><span class="co">#&gt;      id  educ south                  sex   exper  wage occup marr        ed     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     3    12 does not live in South Male     17  7.5  Other Married     High s…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     4    13 does not live in South Male      9 13.1  Other Not married Some c…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     5    10 lives in South         Male     27  4.45 Other Not married Less t…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>    12     9 lives in South         Male     30  6.25 Other Not married Less t…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>    13     9 lives in South         Male     29 20.0  Other Married     Less t…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 395 more rows</span></span></span></code></pre></div>
<p><strong>Read the SPSS data file and convert variable labels as column
names</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_spss_data.html">read_spss_data</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">file_path</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 400 × 9</span></span></span>
<span><span class="co">#&gt;   `Worker ID` `Number of years of education` `Live in south`        Gender</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           3                             12 does not live in South Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           4                             13 does not live in South Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           5                             10 lives in South         Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          12                              9 lives in South         Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          13                              9 lives in South         Male  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 395 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: `Number of years of work experience` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Wage (dollars per hour)` &lt;dbl&gt;, Occupation &lt;fct&gt;, `Marital status` &lt;fct&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Highest education level` &lt;fct&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="read_stata_data">read_stata_data()<a class="anchor" aria-label="anchor" href="#read_stata_data"></a>
</h3>
<p><code><a href="../reference/read_stata_data.html">read_stata_data()</a></code> reads Stata data file
(<code>.dta</code>) into an R data frame, converting labeled variables
into factors.</p>
<p><strong>Read the Stata data file without converting variable labels
as column names</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Wages.dta"</span>, package <span class="op">=</span> <span class="st">"bulkreadr"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_stata_data.html">read_stata_data</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">file_path</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 400 × 9</span></span></span>
<span><span class="co">#&gt;      id  educ south                  sex   exper  wage occup marr        ed     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     3    12 does not live in South Male     17  7.5  Other Married     High s…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     4    13 does not live in South Male      9 13.1  Other Not married Some c…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     5    10 lives in South         Male     27  4.45 Other Not married Less t…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>    12     9 lives in South         Male     30  6.25 Other Not married Less t…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>    13     9 lives in South         Male     29 20.0  Other Married     Less t…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 395 more rows</span></span></span></code></pre></div>
<p><strong>Read the Stata data file and convert variable labels as
column names</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_stata_data.html">read_stata_data</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">file_path</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 400 × 9</span></span></span>
<span><span class="co">#&gt;   `Worker ID` `Number of years of education` `Live in south`        Gender</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           3                             12 does not live in South Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           4                             13 does not live in South Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           5                             10 lives in South         Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          12                              9 lives in South         Male  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          13                              9 lives in South         Male  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 395 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: `Number of years of work experience` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Wage (dollars per hour)` &lt;dbl&gt;, Occupation &lt;fct&gt;, `Marital status` &lt;fct&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Highest education level` &lt;fct&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="generate_dictionary">generate_dictionary()<a class="anchor" aria-label="anchor" href="#generate_dictionary"></a>
</h3>
<p><code><a href="../reference/generate_dictionary.html">generate_dictionary()</a></code> creates a data dictionary from a
specified data frame. This function is particularly useful for
understanding and documenting the structure of your dataset, similar to
data dictionaries in Stata or SPSS.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Creating a data dictionary from an SPSS file</span></span>
<span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Wages.sav"</span>, package <span class="op">=</span> <span class="st">"bulkreadr"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wage_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_spss_data.html">read_spss_data</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">file_path</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/generate_dictionary.html">generate_dictionary</a></span><span class="op">(</span><span class="va">wage_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 6</span></span></span>
<span><span class="co">#&gt;   position variable description                     `column type` missing levels</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;name&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        1 id       Worker ID                       dbl                 0 <span style="color: #949494;">&lt;NULL&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>        2 educ     Number of years of education    dbl                 0 <span style="color: #949494;">&lt;NULL&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>        3 south    Live in south                   fct                 0 <span style="color: #949494;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>        4 sex      Gender                          fct                 0 <span style="color: #949494;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>        5 exper    Number of years of work experi… dbl                 0 <span style="color: #949494;">&lt;NULL&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="look_for">look_for()<a class="anchor" aria-label="anchor" href="#look_for"></a>
</h3>
<p>The <code><a href="../reference/look_for.html">look_for()</a></code> function is designed to emulate the
functionality of the Stata <code>lookfor</code> command in R. It
provides a powerful tool for searching through large datasets,
specifically targeting variable names, variable label descriptions,
factor levels, and value labels. This function is handy for users
working with extensive and complex datasets, enabling them to quickly
and efficiently locate the variables of interest.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Look for a single keyword.</span></span>
<span></span>
<span><span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="va">wage_data</span>, <span class="st">"south"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  pos variable label         col_type missing values                </span></span>
<span><span class="co">#&gt;  3   south    Live in south fct      0       does not live in South</span></span>
<span><span class="co">#&gt;                                              lives in South</span></span>
<span></span>
<span><span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="va">wage_data</span>, <span class="st">"^s"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  pos variable label         col_type missing values                </span></span>
<span><span class="co">#&gt;  3   south    Live in south fct      0       does not live in South</span></span>
<span><span class="co">#&gt;                                              lives in South        </span></span>
<span><span class="co">#&gt;  4   sex      Gender        fct      0       Male                  </span></span>
<span><span class="co">#&gt;                                              Female</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ezekiel Ogundepo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
